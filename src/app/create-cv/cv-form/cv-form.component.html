<section>
  <form (keyup)="setData()" (click)="setData()">
    <a class="unfold" (click)="openAll()"><i class="fas fa-angle-double-down"></i></a>
    <a
      data-toggle="collapse"
      href="#title"
      role="button"
      aria-expanded="false"
      aria-controls="title">
      <h3>
        <i class="fas fa-chevron-circle-down"></i> Title
      </h3>
    </a>
    <div class="collapse" id="title">
      <input type="text" name="first_name" placeholder="first name*" [(ngModel)]="cv['personal_info']['first_name']"/>
      <input type="text" name="last_name" placeholder="last name*" [(ngModel)]="cv['personal_info']['second_name']"/>
    </div>

    <a
      data-toggle="collapse"
      href="#experience"
      role="button"
      aria-expanded="false"
      aria-controls="experience">
      <h3>
        <i class="fas fa-chevron-circle-down"></i> Experience
      </h3>
    </a>
    <div class="collapse" id="experience">
      <div *ngFor="let experience of cv['prof_info']['experience']; let i = index">
        <input type="text" name="position_{{i}}" placeholder="position" [(ngModel)]="cv['prof_info']['experience'][i]['position']"/>
        <input type="text" name="exp_years_{{i}}" placeholder="experience years" [(ngModel)]="cv['prof_info']['experience'][i]['years']"/>
      </div>
      <div>
        <button class="add-btn" (click)="addExperience()">
          <i class="fas fa-plus fa-2x"></i>
        </button>
      </div>
    </div>

    <a
      data-toggle="collapse"
      href="#contacts"
      role="button"
      aria-expanded="false"
      aria-controls="contacts">
      <h3><i class="fas fa-chevron-circle-down"></i> Contact info</h3>
    </a>
    <div class="collapse" id="contacts">
      <input type="text" name="residence" placeholder="residence" [(ngModel)]="cv['contact_info']['address']"/>
      <input type="text" name="birthday" placeholder="birthday" [(ngModel)]="cv['personal_info']['birthday']"/>
      <input type="text" name="phone" placeholder="phone*" [(ngModel)]="cv['contact_info']['phone']"/>
      <input type="text" name="email" placeholder="email*" [(ngModel)]="cv['contact_info']['email']"/>
      <input type="text" name="linkedin_link" placeholder="linkedin link" [(ngModel)]="cv['contact_info']['linkedin']"/>
    </div>

    <a
      data-toggle="collapse"
      href="#desc"
      role="button"
      aria-expanded="false"
      aria-controls="desc">
      <h3><i class="fas fa-chevron-circle-down"></i> Decsription</h3>
    </a>
    <div class="collapse" id="desc">
      <textarea name="description" placeholder="description" [(ngModel)]="cv.preferences.description"></textarea>
      <input type="text" name="choose_preferable_area" placeholder="choose preferable area" [(ngModel)]="cv.preferences.area"/>
      <input type="text" name="choose_position" placeholder="choose preferable position" [(ngModel)]="cv.preferences.position"/>
      <p>salary from</p>
      <select name="salary_from" [(ngModel)]="cv.preferences.salary_from">
        <option value="1500" selected>1500$</option>
        <option value="2000">2000$</option>
        <option value="2500">2500$</option>
        <option value="3000">3000$</option>
        <option value="3500">3500$</option>
        <option value="4000">4000$</option>
      </select>
      <p>salary till</p>
      <select name="salary_till" [(ngModel)]="cv.preferences.salary_till">
        <option value="1500">1500$</option>
        <option value="2000">2000$</option>
        <option value="2500">2500$</option>
        <option value="3000">3000$</option>
        <option value="3500">3500$</option>
        <option value="4000" selected>4000$</option>
      </select>
    </div>

    <a
      data-toggle="collapse"
      href="#education"
      role="button"
      aria-expanded="false"
      aria-controls="education">
      <h3><i class="fas fa-chevron-circle-down"></i> Education</h3>
    </a>
    <div class="collapse" id="education">
      <div *ngFor="let edu of cv['personal_info']['education']; let i = index">
        <input type="text" name="school_institution_name_{{i}}" placeholder="school/institution name*" [(ngModel)]="cv['personal_info']['education'][i]['school']"/>
        <input type="text" name="degree_{{i}}" placeholder="degree*"[(ngModel)]="cv.personal_info.education[i].degree"/>
        <input type="text" name="graduation_year_{{i}}" placeholder="graduation year*" [(ngModel)]="cv['personal_info']['education'][i]['graduation_year']"/>
        <input type="text" name="location_{{i}}" placeholder="location" [(ngModel)]="cv['personal_info']['education'][i]['location']"/>
        <textarea name="edu_description_{{i}}" placeholder="description" [(ngModel)]="cv['personal_info']['education'][i]['description']"></textarea>
      </div>
      <div>
        <button class="add-btn" (click)="addEducation()">
          <i class="fas fa-plus fa-2x"></i>
        </button>
      </div>
    </div>

    <a
      data-toggle="collapse"
      href="#skills"
      role="button"
      aria-expanded="false"
      aria-controls="skills">
      <h3><i class="fas fa-chevron-circle-down"></i> Skills (use ctrl)</h3>
    </a>
    <div class="collapse" id="skills">
      <select name="skills" multiple size="7" [(ngModel)]="cv.prof_info.skills">
        <option disabled>Select skills</option>
        <option *ngFor="let skill of skills" [value]="skill.value">{{skill.name}}</option>
      </select>
    </div>

    <a
      data-toggle="collapse"
      href="#projects"
      role="button"
      aria-expanded="false"
      aria-controls="projects">
      <h3><i class="fas fa-chevron-circle-down"></i> Projects / Jobs</h3>
    </a>
    <div class="collapse" id="projects">
      <div *ngFor="let job of cv.prof_info.jobs; let i = index">
        <input type="text" name="company_{{i}}" placeholder="company" [(ngModel)]="cv.prof_info.jobs[i].company"/>
        <label for="formControlRange_{{i}}">Frontend / Backend</label>
        <input
          type="range"
          class="form-control-range"
          id="formControlRange_{{i}}">
        <p>from</p>
        <input type="date" name="date_from_{{i}}" [(ngModel)]="cv.prof_info.jobs[i].date_from"/>
        <p>till</p>
        <input type="date" name="date_till_{{i}}" [(ngModel)]="cv.prof_info.jobs[i].date_till"/>
        <textarea name="project_description_{{i}}" placeholder="project description" [(ngModel)]="cv.prof_info.jobs[i].description"></textarea>
      </div>
      <div>
        <button class="add-btn" (click)="addJob()">
          <i class="fas fa-plus fa-2x"></i>
        </button>
      </div>
    </div>

    <a
      data-toggle="collapse"
      href="#achievements"
      role="button"
      aria-expanded="false"
      aria-controls="achievements">
      <h3><i class="fas fa-chevron-circle-down"></i> Achievements</h3>
    </a>
    <div class="collapse" id="achievements">
      <div *ngFor="let achivement of cv.prof_info.achievements; let i = index">
        <textarea name="achievement_{{i}}" placeholder="description" [(ngModel)]="cv.prof_info.achievements[i]"></textarea>
      </div>
      <div>
        <button class="add-btn" (click)="addAchivement()">
          <i class="fas fa-plus fa-2x"></i>
        </button>
      </div>
    </div>

    <a
      data-toggle="collapse"
      href="#certifications"
      role="button"
      aria-expanded="false"
      aria-controls="certifications">
      <h3><i class="fas fa-chevron-circle-down"></i> Certifications</h3>
    </a>
    <div class="collapse" id="certifications">
      <div *ngFor="let certificate of cv.prof_info.certification; let i = index">
        <textarea name="certification_{{i}}" placeholder="description" [(ngModel)]="cv.prof_info.certification[i]"></textarea>
      </div>
      <div>
        <button class="add-btn" (click)="addCertification()">
          <i class="fas fa-plus fa-2x"></i>
        </button>
      </div>
    </div>

    <a
      data-toggle="collapse"
      href="#languages"
      role="button"
      aria-expanded="false"
      aria-controls="languages">
      <h3><i class="fas fa-chevron-circle-down"></i> Languages</h3>
    </a>
    <div class="collapse" id="languages">
      <div *ngFor="let language of cv.personal_info.languages; let i = index">
        <input type="text" name="language_{{i}}" placeholder="language {{i+1}}" [(ngModel)]="cv.personal_info.languages[i]"/>
      </div>
      <div>
        <button class="add-btn" (click)="addLanguage()">
          <i class="fas fa-plus fa-2x"></i>
        </button>
      </div>
    </div>

    <a
      data-toggle="collapse"
      href="#links"
      role="button"
      aria-expanded="false"
      aria-controls="links">
      <h3><i class="fas fa-chevron-circle-down"></i> Footer links</h3>
    </a>
    <div class="collapse" id="links">
      <input type="text" name="footer_link_portfolio" placeholder="portfolio" [(ngModel)]="cv.prof_info.portfolio"/>
      <input type="text" name="footer_link_github" placeholder="github" [(ngModel)]="cv.prof_info.github"/>
      <input type="text" name="footer_link_other" placeholder="other" [(ngModel)]="cv.personal_info.other_link"/>
    </div>

    <a
      data-toggle="collapse"
      href="#info"
      role="button"
      aria-expanded="false"
      aria-controls="info">
      <h3><i class="fas fa-chevron-circle-down"></i> Footer info</h3>
    </a>
    <div class="collapse" id="info">
      <div *ngFor="let recommendation of cv.prof_info.recommendations; let i = index">
        <textarea name="recommendations_req_{{i}}" placeholder="recommendations by request" [(ngModel)]="cv.prof_info.recommendations[i]"></textarea>
      </div>
      <div>
        <button class="add-btn" (click)="addRecommendation()">
          <i class="fas fa-plus fa-2x"></i>
        </button>
      </div>
    </div>

  </form>
</section>